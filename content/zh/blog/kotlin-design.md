---
title: "Kotlin背后设计思想漫谈"
linkTitle: "Kotlin背后设计思想漫谈"
date: 2018-03-15
description: >
  从语言设计的角度思考语言的优劣及权衡
---

## Why

几年前写过一个简单的指南方便大家快速上手Kotlin，不过由于各种原因最终没有大规模应用；但实践下来，发现不少变成了披着Kotlin外衣的Java（比如可空、when的滥用；传统的集合操作等）；于是想从谈谈一些背后的设计，帮助大家更好的理解和应用Kotlin，从而以更高效率写出更优雅及可维护的代码。

大家不愿意或者没有很好使用 Kotlin 的主要原因

* 熟悉了Java，切换到 kotlin 有一定的学习成本
* 有一些其他的替代方案（比如 lombok 代替 data class，Reactive 代替 coroutine）；
* 对某些语法、设计、应用场景不理解导致不想用或使用错误
* val声明的语法有点奇怪/不习惯
* 比如为什么要移除static、看起来好像更不方便了
* 为什么去掉了三目运算符？
* 为什么默认是private？感觉对某些框架不友好
* 为什么去除了 ChecedException？
* sealed class使用场景是什么？
* Kotlin的函数式和Java的函数式有什么异同？
* ...
* Java本身也在不断改进（如Stream、Functional Programming），感觉Kotlin大部分只是语法上更简洁了，如果只是简洁，没太大动力迁移

## Objective

> 免责声明：本人并非Kotlin或某种语言的狂热爱好者，拒绝参与某种优于另一种语言的争论（Google把Kotlin作为默认语言并不能证明，有Jvm6的因素），不过欢迎探讨设计优劣（具体某些方面的优缺点）、设计决策、适合场景。

* 语言的演进、Java和Kotlin的优缺点
* Kotlin是如何从简洁、类型安全、性能等方面对Java进行提升和改进的
* 背后设计的权衡、有哪些历史逻辑需要兼容...

## Java与Kotlin对比Overview

对比的维度

* 语法：变量声明、数据类型、操作符；关键字；循环控制；面向对象；函数式；类库（IO、集合、多线程等）
* 对整体语法有一个体系化了解
* 特性/目的：简洁/易用、安全、性能
* 对优缺点理解的更深刻，方便在实际场景中优化

## 设计决策详解

